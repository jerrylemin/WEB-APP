<!-- views/client/productDetails.ejs -->

<%- include('../partials/header', { title: product.name }) %>

<main class="container mx-auto p-4">
    <div class="flex flex-col md:flex-row">
        <div class="md:w-1/2">
            <img src="<%= product.imageUrl %>" alt="<%= product.name %>" class="w-full h-auto rounded-lg">
        </div>
        <div class="md:w-1/2 md:pl-8 mt-4 md:mt-0">
            <h1 class="text-3xl font-bold mb-4"><%= product.name %></h1>
            <p class="text-xl text-green-600 mb-4"><%= product.price.toLocaleString('vi-VN', { style: 'currency', currency: 'VND' }) %></p>
            <p class="text-gray-700 mb-4"><%= product.description %></p>
            <p class="mb-4"><strong>Danh Mục:</strong> <%= product.category %></p>
            <p class="mb-4"><strong>Kho:</strong> <%= product.stock %> sản phẩm</p>
            <% if (product.stock > 0) { %>
                <form action="/cart/add/<%= product._id %>" method="POST" class="flex items-center space-x-2">
                    <label for="quantity" class="block text-sm font-medium text-gray-700">Số Lượng:</label>
                    <input type="number" name="quantity" id="quantity" value="1" min="1" max="<%= product.stock %>" class="w-16 border-gray-300 rounded">
                    <button type="submit" class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600">Thêm Vào Giỏ</button>
                </form>
            <% } else { %>
                <p class="text-red-500 font-semibold">Sản phẩm hiện đang hết hàng.</p>
            <% } %>
        </div>
    </div>
</main>

<%- include('../partials/footer') %>
